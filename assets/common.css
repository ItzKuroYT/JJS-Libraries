:root {
  color-scheme: light;
  --bg: #f5f7fb;
  --surface: #ffffff;
  --surface-soft: #eef2fa;
  --text: #1b2330;
  --muted: #657187;
  --border: #d9dfeb;
  --accent: #5667ff;
  --accent-2: #7f3dff;
  --online: #15bb73;
  --danger: #d45252;
}

:root[data-theme="dark"] {
  color-scheme: dark;
  --bg: #0f121a;
  --surface: #181c27;
  --surface-soft: #1f2633;
  --text: #e8edff;
  --muted: #98a3bc;
  --border: #2e3647;
  --accent: #7a88ff;
  --accent-2: #a06bff;
  --online: #39d98a;
  --danger: #f06d6d;
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; min-height: 100%; font-family: Inter, system-ui, -apple-system, Segoe UI, sans-serif; background: var(--bg); color: var(--text); }

a { color: inherit; text-decoration: none; }
button, input, textarea { font: inherit; }

.app-shell { width: min(1200px, 94vw); margin: 18px auto 28px; }
.topbar {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px 14px;
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 12px;
  position: sticky;
  top: 12px;
  z-index: 20;
}
.topbar-left, .topbar-right { display: flex; align-items: center; gap: 8px; }
.topbar-right { justify-content: flex-end; }
.brand-wrap { text-align: center; }
.brand-wrap h1 { margin: 0; font-size: 1.2rem; }
.nav-links { margin-top: 6px; display: inline-flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
.nav-link {
  border: 1px solid var(--border);
  background: var(--surface-soft);
  border-radius: 999px;
  padding: 6px 12px;
  color: var(--muted);
}
.nav-link.active { color: #fff; background: linear-gradient(90deg, var(--accent), var(--accent-2)); border-color: transparent; }
.nav-link[aria-disabled="true"] { opacity: 0.5; cursor: not-allowed; }

.btn {
  border: 1px solid var(--border);
  background: var(--surface-soft);
  color: var(--text);
  border-radius: 10px;
  padding: 8px 12px;
  cursor: pointer;
}
.btn.primary { color: #fff; border-color: transparent; background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
.btn.danger { color: #fff; border-color: transparent; background: var(--danger); }

.home-layout {
  margin-top: 16px;
  display: grid;
  grid-template-columns: 260px minmax(0, 1fr) 280px;
  gap: 14px;
}
.panel {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
}
.hero h2 { margin-top: 0; }

.profile-card-compact .profile-row { display: flex; gap: 10px; align-items: center; }
.avatar { width: 52px; height: 52px; border-radius: 50%; object-fit: cover; border: 2px solid var(--border); background: var(--surface-soft); }
.muted { color: var(--muted); font-size: 0.92rem; }

.profile-card-full { overflow: hidden; padding: 0; }
.profile-banner { height: 120px; background: linear-gradient(135deg, var(--accent), var(--accent-2)); }
.profile-body { padding: 0 14px 14px; }
.profile-avatar-lg { width: 90px; height: 90px; border-radius: 50%; margin-top: -45px; border: 4px solid var(--surface); object-fit: cover; background: var(--surface-soft); }
.social-links { margin-top: 10px; display: flex; gap: 8px; flex-wrap: wrap; }
.social-chip { border: 1px solid var(--border); background: var(--surface-soft); border-radius: 999px; padding: 5px 10px; color: var(--muted); }

.online-list { max-height: 360px; overflow: auto; display: grid; gap: 8px; }
.online-item {
  position: relative;
  border: 1px solid var(--border);
  background: var(--surface-soft);
  border-radius: 10px;
  padding: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.online-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--online); margin-left: auto; }
.online-tooltip {
  position: absolute;
  left: 8px;
  top: calc(100% + 6px);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px;
  width: 220px;
  display: none;
  z-index: 10;
}
.online-item:hover .online-tooltip { display: block; }

.auth-form { display: grid; gap: 8px; max-width: 340px; }
.auth-form input {
  border: 1px solid var(--border);
  background: var(--surface-soft);
  color: var(--text);
  border-radius: 10px;
  padding: 10px;
}

.post-list { display: grid; gap: 10px; }
.post-card { border: 1px solid var(--border); background: var(--surface-soft); border-radius: 12px; padding: 10px; }
.tag { display: inline-block; border: 1px solid var(--border); border-radius: 999px; font-size: .8rem; padding: 2px 8px; color: var(--muted); margin-right: 4px; }

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 40;
}
.modal-card {
  width: min(760px, 94vw);
  max-height: 90vh;
  overflow: auto;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
}
.field-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.field-grid label, .field-stack label { display: grid; gap: 6px; font-size: 0.9rem; }
.field-grid input, .field-stack input, .field-stack textarea, .field-grid textarea {
  border: 1px solid var(--border);
  background: var(--surface-soft);
  color: var(--text);
  border-radius: 10px;
  padding: 9px;
}

.page-transition { opacity: 1; transition: opacity .2s ease; }
.page-transition.fade-out { opacity: 0; }

@media (max-width: 980px) {
  .home-layout { grid-template-columns: 1fr; }
}
